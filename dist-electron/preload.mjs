"use strict";const r=require("electron"),t={ipcRenderer:{send(e,...n){r.ipcRenderer.send(e,...n)},sendTo(e,n,...o){const i=process.versions.electron;if((i?parseInt(i.split(".")[0]):0)>=28)throw new Error('"sendTo" method has been removed since Electron 28.');r.ipcRenderer.sendTo(e,n,...o)},sendSync(e,...n){return r.ipcRenderer.sendSync(e,...n)},sendToHost(e,...n){r.ipcRenderer.sendToHost(e,...n)},postMessage(e,n,o){r.ipcRenderer.postMessage(e,n,o)},invoke(e,...n){return r.ipcRenderer.invoke(e,...n)},on(e,n){return r.ipcRenderer.on(e,n),()=>{r.ipcRenderer.removeListener(e,n)}},once(e,n){return r.ipcRenderer.once(e,n),()=>{r.ipcRenderer.removeListener(e,n)}},removeListener(e,n){return r.ipcRenderer.removeListener(e,n),this},removeAllListeners(e){r.ipcRenderer.removeAllListeners(e)}},webFrame:{insertCSS(e){return r.webFrame.insertCSS(e)},setZoomFactor(e){typeof e=="number"&&e>0&&r.webFrame.setZoomFactor(e)},setZoomLevel(e){typeof e=="number"&&r.webFrame.setZoomLevel(e)}},webUtils:{getPathForFile(e){return r.webUtils.getPathForFile(e)}},process:{get platform(){return process.platform},get versions(){return process.versions},get env(){return{...process.env}}}},s={invoke:(e,...n)=>r.ipcRenderer.invoke(e,...n),auth:{setToken:e=>{console.log("ðŸ”— [Preload] å‘é€ Token åˆ°ä¸»è¿›ç¨‹"),r.ipcRenderer.send("auth:set-token",e)},clearToken:()=>{console.log("ðŸ”— [Preload] é€šçŸ¥ä¸»è¿›ç¨‹æ¸…é™¤ Token"),r.ipcRenderer.send("auth:clear-token")}},accounts:{getList:e=>r.ipcRenderer.invoke("accounts:getList",e),getById:e=>r.ipcRenderer.invoke("accounts:getById",e),create:e=>r.ipcRenderer.invoke("accounts:create",e),update:(e,n)=>r.ipcRenderer.invoke("accounts:update",e,n),delete:e=>r.ipcRenderer.invoke("accounts:delete",e),batch:e=>r.ipcRenderer.invoke("accounts:batch",e)},browser:{launch:e=>(console.log("ðŸ”— [Preload] è°ƒç”¨ browser.launch:",{accountId:e,type:typeof e,timestamp:new Date().toISOString()}),r.ipcRenderer.invoke("browser:launch",e)),close:e=>(console.log("ðŸ”— [Preload] è°ƒç”¨ browser.close:",{accountId:e,type:typeof e,timestamp:new Date().toISOString()}),r.ipcRenderer.invoke("browser:close",e)),navigate:(e,n)=>(console.log("ðŸ”— [Preload] è°ƒç”¨ browser.navigate:",{accountId:e,url:n}),r.ipcRenderer.invoke("browser:navigate",e,n)),screenshot:e=>(console.log("ðŸ”— [Preload] è°ƒç”¨ browser.screenshot:",{accountId:e}),r.ipcRenderer.invoke("browser:screenshot",e)),getRunningInstances:()=>(console.log("ðŸ”— [Preload] è°ƒç”¨ browser.getRunningInstances"),r.ipcRenderer.invoke("browser:getRunningInstances"))},profiles:{getList:()=>r.ipcRenderer.invoke("profiles:getList"),create:e=>r.ipcRenderer.invoke("profiles:create",e)},proxies:{getList:()=>r.ipcRenderer.invoke("proxies:getList"),create:e=>r.ipcRenderer.invoke("proxies:create",e)},stats:{get:()=>r.ipcRenderer.invoke("stats:get")},data:{export:e=>r.ipcRenderer.invoke("data:export",e),import:(e,n,o)=>r.ipcRenderer.invoke("data:import",e,n,o)}};if(process.contextIsolated)try{r.contextBridge.exposeInMainWorld("electron",t),r.contextBridge.exposeInMainWorld("api",s)}catch{window.electron=t,window.api=s}else window.electron=t,window.api=s;
